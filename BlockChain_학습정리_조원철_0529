4. 비트코인의 전자 화폐 거래의 개념

       ① 비트코인 전자 화폐 거래의 목표
당사자간에 중간 기관 없이 P2P 직접 거래 목표
모든 지불 거래 내역이 공개된 원장(public ledger)인 블록체인에 기록
블록체인을 검색하여 지불된 모든 전자화폐에 대한 존재와 소유 증명 가능

       ② 화폐 발행
채굴자: 블록을 생성하여 체인으로 연결하는 참여자
채굴자 결정: 임의의 채굴자가 선정이 되는데, 채굴역량에 비례하는 확률로 임의의 채굴자가 자동으로 선정되게 되어있음 (네트워크 상에서 자동으로)
-> 작업 증명 알고리즘 (Proof of Work) : PoW
                  c.   채굴자가 선정되면(작업증명 선정되면) 채굴자 주소로 블록을 생성하는
                        보상(현재는 12.5 BTC)
                  d.   수신자만있고, 송신자는 네트워크시스템( 수신자 : 채굴자)
                  e.   첫번째 거래 (Coinbase 거래)
                  따라서, 모든거래내역을 확인할 수 있음(투명성)

       ③ 소유자 증명
비트코인 주소가 공개키 주소(공개키와 동일), 공개키로 검증이 가능한 서명
서명으로 증명할 수 있는 사람이 소유자
사실, 소유를 제시할 수 있는게 서명만이 아님. 소유자의 증명방식을 블록체인에 기록을 함(locking script를 해지할 수 있는 사람이 소유자)
대부분의 unlocking script가 서명이기는 함

       ④ 지불 거래
비트코인 소유자 이전
일반거래에서 - 거래의 입력값 = 서명,  ㅍ 해시값
입력값 - 출력값 = 수수료(채굴자)
한번 사용된 주소는 재사용 하지 않는다. (일반적)
주소는 2^512 만들 수 있음 (무한정)

       ⑤ 전자 화폐
STXO(Spent Transaction Output) : 지불 거래에 의해 송신된 후 이미 사용된 화폐
발행된 비트코인 총액 == UTXO의 총합

       ⑥ 이중 지불 거래 방지
새로운 지불 거래가 블록체인상에 존재하는 기존 지불 거래가 이미 사용한 거래 ID(해시 포인터)를 입력값으 로 사용하는 지 확인  
거래의 ID인 해시 포인터는 유일하므로 반드시 탐지 가 능  채굴자에 의해 폐기 처분

5. 비트코인 블록 체인 개요

       ① 비트코인 블록체인의 역할
비트코인 발행을 포함한 지불 거래 정보를 기록한 장부(ledger)
p2p거래의 원천

       ② 블록체인의 목표 (완전성, 안정성, 분산성, 투명성)
모든 거래 내역을 일관성 있게 기록
비정상 거래 기록(승인) 불가
승인된 거래 변경/교체 불가
장부(블록체인) 파괴 불가
누구나 블록체인 생성에 참여가능
누구나 블록체인 접근, 검증 및 사용 가능(블록체인을 유지하고 있지 않은 참여자도 블록체인 접근 보장(SPV 노드)

       ③ 비트코인 네트워크 참여자
풀 노드(full node) 참여자
채굴 노드(mining node) 참여자
SPV 노드(simple payment verification node) 참여자

       ④ 비트코인 블록
채굴자가 일정 시간 동안 비트코인 네트워크를 통해 교환되는 모든 거래를 검증한 후 모아서 만든 자료구조
생성 후 모든 참여자에게 방송
블록 생성 간격은 약 10분
블록의 크기는 1Mbyte로 제한 (블록이 커지면 블록지연시간이 커짐 방지)
10분당 승인할 수 있는 거래 수에 제약(초당 7개) (1 트랜잭션당 250byte)
블록 채굴자 결정은 PoW에가장 먼저 성공한 채굴자
블록의 특정 숫자값(넌스)을 변경하면서 성공 확률이 2^-60인 난이도의 목표값 보다 작은 해시값을 생성하는 넌스를 찾아라
채굴자의 작업 증명 성공 확률 = 
채굴자의 해시 파워(해시율) / 전체 채굴자의 해시 파워의 총합
블록연결은 블록헤더의 해시포인터가 이전블록을 유니크하게 가르킴

       ⑤ SPV 노드의 거래 승인 확인
머클 트리 거래 저장 (머클루트가 블록의 모든 거래에 대한 지문 정보 요약)
